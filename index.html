<div class="movie-player" id="player">
  <!--Top bar-->
  <div class="player-header">
    <span class="movie-title">Now Playing: Dummy Movie</span>
    <span class="movie-quality" id="quality-label">HD 1080p</span>
  </div>

  <!--Poster background-->
  <div class="poster"></div>

  <!--Loading overlay-->
  <div class="loading">
    <div class="spinner"></div>
    <p>Loading...</p>
  </div>

  <!--Controls-->
  <div class="player-controls" id="controls">
    <div class="left-controls">
      <button class="btn" id="play-btn" title="Play/Pause">â–º</button>
      <span class="time">00:00 / 02:15:00</span>
    </div>
    <div class="progress-bar">
      <div class="progress" id="progress"></div>
    </div>
    <div class="right-controls">
      <button class="btn" id="volume-btn" title="Mute/Unmute">ðŸ”Š</button>
      <div class="settings">
        <button class="btn" id="settings-btn" title="Quality">âš™</button>
        <div class="quality-menu" id="quality-menu">
          <div data-quality="HD 1080p">1080p</div>
          <div data-quality="HD 720p">720p</div>
          <div data-quality="SD 480p">480p</div>
        </div>
      </div>
      <button class="btn" id="fullscreen-btn" title="Fullscreen">â›¶</button>
    </div>
  </div>
</div>

<style>
.movie-player {
  position: relative;
  width: 100%;
  max-width: 900px;
  aspect-ratio: 16/9;
  background: #000;
  margin: 20px auto;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 16px rgba(0,0,0,0.6);
  font-family: Arial, sans-serif;
  color: #fff;
}

/* Poster background */
.poster {
  width: 100%; height: 100%;
  background: url('https://picsum.photos/900/506?blur') center/cover no-repeat;
  filter: brightness(0.6);
}

/* Top bar */
.player-header {
  position: absolute; top: 0; left: 0; right: 0;
  padding: 6px 12px;
  background: linear-gradient(to bottom, rgba(0,0,0,0.7), transparent);
  display: flex; justify-content: space-between;
  font-size: 14px; z-index: 2;
}

/* Loading overlay */
.loading {
  position: absolute; top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  text-align: center; z-index: 3;
}
.spinner {
  width: 70px; height: 70px;
  border: 6px solid rgba(255,255,255,0.2);
  border-top: 6px solid #e50914;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: auto;
}
@keyframes spin { 100% { transform: rotate(360deg); } }
.loading p { margin-top: 10px; font-size: 14px; opacity: 0.8; }

/* Controls */
.player-controls {
  position: absolute; bottom: 0; left: 0; right: 0;
  padding: 8px 12px;
  background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
  display: flex; align-items: center; justify-content: space-between;
  font-size: 13px; z-index: 2;
  opacity: 1; transition: opacity 0.5s;
}
.left-controls, .right-controls { display: flex; align-items: center; gap: 8px; }
.btn { background: none; border: none; color: #fff; font-size: 16px; cursor: pointer; opacity: 0.8; }
.btn:hover { opacity: 1; }

/* Progress bar */
.progress-bar { flex: 1; height: 4px; background: rgba(255,255,255,0.2); margin: 0 12px; border-radius: 2px; overflow: hidden; }
.progress { width: 0%; height: 100%; background: #e50914; animation: load 6s infinite; }

@keyframes load {
  0% { width: 0%; }
  40% { width: 60%; }
  70% { width: 80%; }
  100% { width: 0%; }
}

/* Quality menu */
.settings { position: relative; }
.quality-menu {
  display: none; position: absolute; bottom: 30px; right: 0;
  background: rgba(0,0,0,0.9); padding: 6px; border-radius: 4px;
}
.quality-menu div { padding: 4px 8px; cursor: pointer; }
.quality-menu div:hover { background: rgba(255,255,255,0.1); }
</style>

<script>
const playBtn = document.getElementById('play-btn');
const volumeBtn = document.getElementById('volume-btn');
const settingsBtn = document.getElementById('settings-btn');
const qualityMenu = document.getElementById('quality-menu');
const qualityLabel = document.getElementById('quality-label');
const fullscreenBtn = document.getElementById('fullscreen-btn');
const controls = document.getElementById('controls');
const player = document.getElementById('player');

// Play/Pause toggle (only icon change, time frozen)
let playing = false;
playBtn.addEventListener('click', () => {
  if (!playing) {
    playBtn.innerHTML = '&#10074;&#10074;'; // pause icon
    playing = true;
  } else {
    playBtn.innerHTML = '&#9658;'; // play icon
    playing = false;
  }
});

// Volume toggle
volumeBtn.addEventListener('click', () => {
  volumeBtn.textContent = volumeBtn.textContent === 'ðŸ”Š' ? 'ðŸ”‡' : 'ðŸ”Š';
});

// Settings menu toggle
settingsBtn.addEventListener('click', () => {
  qualityMenu.style.display = qualityMenu.style.display === 'block' ? 'none' : 'block';
});
qualityMenu.querySelectorAll('div').forEach(item => {
  item.addEventListener('click', () => {
    qualityLabel.textContent = item.dataset.quality;
    qualityMenu.style.display = 'none';
  });
});

// Fullscreen toggle
fullscreenBtn.addEventListener('click', () => {
  if (!document.fullscreenElement) {
    player.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
});

// Auto-hide controls after inactivity
let hideTimeout;
function showControls() {
  controls.style.opacity = 1;
  clearTimeout(hideTimeout);
  hideTimeout = setTimeout(() => { controls.style.opacity = 0; }, 4000);
}
player.addEventListener('mousemove', showControls);
player.addEventListener('click', showControls);
showControls();

// Keyboard shortcuts
document.addEventListener('keydown', (e) => {
  if (e.code === 'Space') playBtn.click();
  if (e.key.toLowerCase() === 'f') fullscreenBtn.click();
  if (e.key.toLowerCase() === 'm') volumeBtn.click();
});
</script>










<html lang="en">
<head>
<meta charset="UTF-8"></meta>
<meta content="width=device-width,initial-scale=1" name="viewport"></meta>
<title>SmartLink Pro Unlocker</title>

<style>
:root{
  --bg:#f7f8fa; --card:#ffffff; --text:#1b1f23; --muted:#6b7280;
  --accent:#0a84ff; --accent-2:#34c759; --warning:#ff9f0a;
  --border:#e5e7eb; --overlay:rgba(0,0,0,.72);
  --shadow:0 12px 28px rgba(0,0,0,.08);
}
.dark{
  --bg:#0b0f14; --card:#101620; --text:#e6edf3; --muted:#9aa4af;
  --accent:#3b82f6; --accent-2:#22c55e; --warning:#f59e0b;
  --border:#1f2937; --overlay:rgba(0,0,0,.78);
  --shadow:0 18px 40px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{margin:0}
body{background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;line-height:1.5}

.container{max-width:980px;margin:auto;padding:16px}
.notice{background:#fff3cd;border:1px solid #ffeeba;border-radius:12px;padding:12px;margin:14px 0;box-shadow:var(--shadow);color:#856404;font-weight:700}
.header{display:flex;justify-content:space-between;align-items:center;margin:10px 0}
.logo{display:inline-flex;align-items:center;gap:10px;font-weight:900}
.logo-badge{width:40px;height:40px;border-radius:10px;display:grid;place-items:center;color:#fff;background:linear-gradient(135deg,var(--accent),#6ea8ff);box-shadow:0 8px 20px rgba(10,132,255,.35)}
.brand-title{font-weight:900}
.brand-sub{color:var(--muted);font-size:13px}
.theme-toggle{border:1px solid var(--border);background:var(--card);color:var(--text);padding:8px 12px;border-radius:8px;cursor:pointer;transition:transform .2s ease}
.theme-toggle:hover{transform:translateY(-1px)}
.user-counter{text-align:center;font-weight:800;color:var(--accent);margin:8px 0}

.card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:16px}

.stepper{display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.step{display:flex;align-items:center;gap:8px;padding:6px 8px;border-radius:10px}
.dot{width:16px;height:16px;border-radius:50%;background:#cbd5e1;box-shadow:inset 0 0 0 2px #94a3b8}
.step.active .dot{background:var(--accent)}
.step.done .dot{background:var(--accent-2)}
.label{font-weight:800}
.status{color:var(--muted);font-size:12px}
.line{flex:1;min-width:40px;height:2px;background:var(--border)}

.message{background:rgba(10,132,255,.08);border:1px dashed rgba(10,132,255,.35);color:var(--accent);padding:10px;border-radius:12px;margin:10px 0;font-weight:700}

.buttons{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}
.step-btn{background:linear-gradient(45deg,var(--accent),#6ea8ff);border:none;color:#fff;padding:12px 16px;border-radius:12px;font-weight:800;cursor:pointer;box-shadow:0 6px 16px rgba(10,132,255,.35);transition:transform .2s ease}
.step-btn:hover:enabled{transform:translateY(-1px)}
.step-btn:disabled{background:#9aa4af;cursor:not-allowed;box-shadow:none;filter:saturate(.8)}
.timer{display:block;text-align:center;color:var(--warning);font-weight:800}

.final-wrap{display:grid;place-items:center;margin-top:14px}
.final-btn{display:none;background:linear-gradient(45deg,var(--accent-2),#7dd87a);color:#fff;text-decoration:none;padding:14px 24px;border-radius:14px;font-size:18px;font-weight:900;box-shadow:0 6px 16px rgba(34,197,94,.35);transform:scale(.98)}
.final-btn.reveal{display:inline-block;animation:reveal .4s ease forwards}
@keyframes reveal{from{opacity:0;transform:scale(.94)}to{opacity:1;transform:scale(1)}}

/* Sticky popup */
.sticky-box{position:fixed;inset:0;background:var(--overlay);display:none;align-items:center;justify-content:center;z-index:9999}
.sticky-content{width:92%;max-width:420px;background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);overflow:hidden}
.sticky-header{display:flex;align-items:center;justify-content:space-between;background:var(--accent);color:#fff;padding:10px 14px}
.sticky-left{display:flex;flex-direction:column;gap:2px}
#stickyMsg{font-weight:900}
.sticky-sub{opacity:.95;font-size:12px;transition:opacity .3s ease}
.sticky-users{font-size:12px;opacity:.95}
.ad-label{font-size:11px;opacity:.9;margin-left:6px}
.close-btn{position:absolute;right:16px;top:10px;border:none;background:transparent;color:#fff;font-size:22px;font-weight:900;cursor:pointer}

.circle-wrap{position:relative;width:56px;height:56px}
.circle{transform:rotate(-90deg)}
.circle .bg{fill:none;stroke:rgba(255,255,255,.35);stroke-width:6}
.circle .prog{fill:none;stroke:#fff;stroke-width:6;stroke-linecap:round;stroke-dasharray:0 100}
.circle-text{position:absolute;inset:0;display:grid;place-items:center;color:#fff;font-weight:900}

.mini-progress{height:4px;background:rgba(255,255,255,.3);border-radius:999px;overflow:hidden;margin-top:6px}
.mini-fill{height:100%;width:0%;background:#fff;border-radius:999px;transition:width .5s ease}

.ad-slot{width:250px;height:250px;margin:12px auto;background:#f1f3f5;border:1px solid var(--border);border-radius:12px;display:flex;align-items:center;justify-content:center;color:#374151;font-weight:900}

/* Slideshow */
.slideshow{max-width:980px;margin:16px auto;border-radius:16px;overflow:hidden;border:1px solid var(--border);background:var(--card);box-shadow:var(--shadow)}
.slide{display:none}
.slide img{width:100%;display:block}
.fade{animation:fadeEffect 1s}
@keyframes fadeEffect{from{opacity:.4}to{opacity:1}}
.dots{display:flex;gap:6px;justify-content:center;padding:10px;border-top:1px solid var(--border)}
.dot-ind{width:8px;height:8px;border-radius:50%;background:#cbd5e1;cursor:pointer}
.dot-ind.active{background:var(--accent)}

.footer{max-width:980px;margin:0 auto 24px;text-align:center;color:var(--muted);font-size:13px}
.trust{display:flex;gap:8px;justify-content:center;margin-top:6px}
.badge{padding:4px 8px;border:1px solid var(--border);border-radius:999px;font-size:11px;color:var(--muted);background:var(--card)}

/* Responsive tweaks */
@media (max-width:640px){
  .brand-sub{display:none}
  .sticky-content{max-height:90vh}
}
</style>
</head>
<body>

<div class="container">
  <div class="notice">
    Complete all 3 steps one by one. Only after finishing them, the final Download link will be available.
  </div>

  <div class="header">
    <div class="logo">
      <div class="logo-badge">SL</div>
      <div>
        <div class="brand-title">SmartLink Pro</div>
        <div class="brand-sub">Unlock your destination</div>
      </div>
    </div>
    <button class="theme-toggle" id="themeToggle" type="button">Dark mode</button>
  </div>

  <div class="user-counter">
    Active users unlocking links: <span id="userCount">325</span>
  </div>

  <div class="card">
    <div aria-label="Progress" class="stepper">
      <div class="step" id="s1"><div class="dot"></div><div class="label">Step 1</div><div class="status" id="s1Status">Pending</div></div>
      <div class="line"></div>
      <div class="step" id="s2"><div class="dot"></div><div class="label">Step 2</div><div class="status" id="s2Status">Locked</div></div>
      <div class="line"></div>
      <div class="step" id="s3"><div class="dot"></div><div class="label">Step 3</div><div class="status" id="s3Status">Locked</div></div>
      <div class="line"></div>
      <div class="step" id="sFinal"><div class="dot"></div><div class="label">Final Link</div><div class="status" id="sFinalStatus">Locked</div></div>
    </div>

    <div class="message" id="engageMsg">Start with Step 1 to unlock the next step.</div>

    <div class="buttons">
      <button class="step-btn" id="btn1">Step 1</button>
      <button class="step-btn" disabled="" id="btn2">Step 2</button>
      <button class="step-btn" disabled="" id="btn3">Step 3</button>
    </div>

    <div class="final-wrap">
      <a class="final-btn" href="#" id="finalLink" target="_blank">Final Link</a>
    </div>
  </div>
</div>

<!-- Bottom slideshow -->
<div class="slideshow">
  <a class="slide fade" href="https://www.effectivegatecpm.com/j9h3frm9qn?key=33b481c9f6d9d7bfaac53f0f3729c7cd" rel="noopener" target="_blank">
    <img alt="Sponsored Ad 1" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgJsZ_PSnnolvcXh4nyukISmh97TTqNArZpARjiFpNEiGPcVhp5XZFTJV3WKv_ltj4Srwmvj7QNqbGmxzFE-P6uJcoQUO1nSAsvLqGrjon5ANRUZXyG_kLxiecF0xELhlO44BPJzvBA1D1fUEuxKivS5MmV-BIWFiIah4KNGkq5PHPs7-x7mDXoZHHyNRTr/s1536/copilot_image_1762490596754.jpeg" />
  </a>
  <a class="slide fade" href="#" rel="noopener" target="_blank">
    <img alt="Sponsored Ad 2" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiMQFWnwST0q98XAUBvqQaGCj6nOmwd8ZFpCEOaPvETnJdW4NhTcWwIBKO71te9Bq3FJoltoo6q3MNxKLsR25lkZjMswzKxWY3Y8tBmsB-4JmGqysyI8JX3MF3QQIiLyQ5j90cNzpfZz5vIRi91TjWhyphenhyphenfAyNDo2dQWOLsZRzsXXJY789iE4tJDwzmxwjvzq/s1536/copilot_image_1762490192388.jpeg" />
  </a>
  
    <a class="slide fade" href="#" rel="noopener" target="_blank">
    <img alt="Sponsored Ad 2" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgFjqVQp3b19ygyh6gp2k50MMmcF4NCfSuonUnQs8NAX0A2PNxSvjsKMfq96gsPeD2AWZxh3gtk1duAwD0YKGOutT4hJZmv3ixC-x2trWcJARbrphxCAQJvDfgLIecolfXlpR5b-em6bQKLOmUrFoYLtIQ9qrAmAY2UX_mjLoE3iqV3pjJGx8cKqa8odm9r/s1536/copilot_image_1762489936212.jpeg" />
  </a>
  
  <a class="slide fade" href="#" rel="noopener" target="_blank">
    <img alt="Sponsored Ad 3" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEidiNEfnS1odnux1Ze7AXMlXXdWyciPAFFoHvkIVwmEONBx1oI6i0pbA97mc4Tz2rs7Zm_IcZ03pzyIh0u_hUM27kWaxIgp-P_DY2yi0hyPlIodDcwvlNUlKhNSPjQhw2SvtTHzRK7hSYmJt8ZtHISjOQxk6pNK9num39MMnD2FT9QhbrD_wT6OlJ4BzzE7/s1536/Telegram%20promo%20image%20bs.png" />
  </a>
  <div class="dots" id="dots"></div>
</div>

<!-- Footer / trust signals -->
<div class="footer">
  Powered by SmartLink Pro â€¢ Stepâ€‘based unlock interface
  <div class="trust">
    <div class="badge">Secure session</div>
    <div class="badge">Antiâ€‘bot checks</div>
    <div class="badge">Encrypted redirect</div>
  </div>
</div>

<!-- Sticky popup -->
<div aria-hidden="true" class="sticky-box" id="stickyBox">
  <div class="sticky-content">
    <button aria-label="Close" class="close-btn" id="closeBox">Ã—</button>
    <div class="sticky-header">
      <div class="sticky-left">
        <div id="stickyMsg">Preparing your linkâ€¦</div>
        <div class="sticky-sub" id="stickySub">
          Checking browser compatibilityâ€¦ <span class="ad-label">Sponsored</span>
        </div>
        <div class="sticky-users">You + <span id="stickyUserCount">324</span> others are unlocking this link</div>
        <div class="mini-progress"><div class="mini-fill" id="miniFill"></div></div>
      </div>
      <div class="circle-wrap">
        <svg class="circle" height="56" width="56">
          <circle class="bg" cx="28" cy="28" r="24"></circle>
          <circle class="prog" cx="28" cy="28" r="24"></circle>
        </svg>
        <div class="circle-text" id="circleText">30</div>
      </div>
    </div>
    <div class="ad-slot"><script type="text/javascript">
	atOptions = {
		'key' : '9e179085d320f39d597244562bf72dae',
		'format' : 'iframe',
		'height' : 250,
		'width' : 300,
		'params' : {}
	};
</script>
<script src="//www.highperformanceformat.com/9e179085d320f39d597244562bf72dae/invoke.js" type="text/javascript"></script></div>
  </div>
</div>

<script>
// ===== Config: replace these with your real links =====
const link1 = "https://www.effectivegatecpm.com/j9h3frm9qn?key=33b481c9f6d9d7bfaac53f0f3729c7cd";
const link2 = "https://www.effectivegatecpm.com/afzg9a9nkv?key=5dcefc80a0b0e89fcfdb3d77f9660bbe";
const link3 = "https://www.effectivegatecpm.com/mswpne8xsb?key=6a9cf1265ff02dc0188923179c17c4a7";
const finalLinkHref = "https://www.effectivegatecpm.com/vvb3pcread?key=c703d2bb1da414489f22462bffc7b165";

// Elements
const btn1 = document.getElementById("btn1");
const btn2 = document.getElementById("btn2");
const btn3 = document.getElementById("btn3");
const finalLink = document.getElementById("finalLink");
const engageMsg = document.getElementById("engageMsg");

const s1 = document.getElementById("s1");
const s2 = document.getElementById("s2");
const s3 = document.getElementById("s3");
const sFinal = document.getElementById("sFinal");
const s1Status = document.getElementById("s1Status");
const s2Status = document.getElementById("s2Status");
const s3Status = document.getElementById("s3Status");
const sFinalStatus = document.getElementById("sFinalStatus");

// Sticky modal elements
const box = document.getElementById("stickyBox");
const closeBtn = document.getElementById("closeBox");
const stickyMsg = document.getElementById("stickyMsg");
const stickySub = document.getElementById("stickySub");
const circleText = document.getElementById("circleText");
const progCircle = document.querySelector(".circle .prog");
const stickyUserCount = document.getElementById("stickyUserCount");
const miniFill = document.getElementById("miniFill");

// Theme toggle
document.getElementById("themeToggle").addEventListener("click", ()=>{
  document.body.classList.toggle("dark");
  document.getElementById("themeToggle").textContent = document.body.classList.contains("dark") ? "Light mode" : "Dark mode";
});

// Global user counter
const userCountEl = document.getElementById("userCount");
let globalUserCount = 320 + Math.floor(Math.random()*50); // 320â€“369 start
function updateGlobalUserCount(){
  const change = Math.random() > 0.5 ? 1 : -1;
  globalUserCount += change;
  if(globalUserCount < 300) globalUserCount = 300;
  if(globalUserCount > 410) globalUserCount = 410;
  userCountEl.textContent = globalUserCount;
}
setInterval(updateGlobalUserCount, 2000 + Math.random()*2000);
userCountEl.textContent = globalUserCount;

// Local sticky counter mirrors global with offset
function updateStickyUserCount(){
  const offset = Math.floor(Math.random()*6) - 3; // -3..+2
  const localCount = Math.max(250, Math.min(500, globalUserCount + 20 + offset));
  stickyUserCount.textContent = localCount;
}

// Countdown ring setup
const R = 24; const C = 2 * Math.PI * R;
progCircle.setAttribute("stroke-dasharray", C + " " + C);

// Rotating messages
const messages = [
  "Unlocking your next stepâ€¦",
  "Optimizing link previewâ€¦",
  "Almost thereâ€¦",
  "Verifying sessionâ€¦",
  "Preparing secure redirectâ€¦",
  "Checking browser compatibilityâ€¦"
];

// Open popup (redirect-based, no iframe) and countdown
function openStickyRedirect(link, onDone){
  let time = 30, msgIndex = 0;
  circleText.textContent = time;
  stickyMsg.textContent = "Preparing your linkâ€¦";
  stickySub.textContent = messages[msgIndex % messages.length];
  updateStickyUserCount();
  miniFill.style.width = "0%";
  box.style.display = "flex";

  // Try opening link in new tab on user gesture (best chance to bypass blockers)
  const newTab = window.open(link, "_blank");
  if(!newTab){
    // If blocked, retry shortly; still user-initiated in many browsers
    setTimeout(()=>window.open(link,"_blank"),50);
  }

  const start = Date.now();
  const tick = setInterval(()=>{
    time--;
    circleText.textContent = time;

    const elapsed = (Date.now() - start)/1000;
    const proportion = Math.min(elapsed/30, 1);
    const dashOffset = C * (1 - proportion);
    progCircle.setAttribute("stroke-dasharray", C + " " + C);
    progCircle.setAttribute("stroke-dashoffset", dashOffset);
    miniFill.style.width = (proportion*100).toFixed(1) + "%";

    if (time % 3 === 0) updateStickyUserCount();
    if (time % 6 === 0){ msgIndex++; stickySub.textContent = messages[msgIndex % messages.length]; }

    if (time <= 0){
      clearInterval(tick);
      closeSticky();
      if(onDone) onDone();
    }
  }, 1000);

  function closeSticky(){
    box.style.display = "none";
    progCircle.removeAttribute("stroke-dashoffset");
    miniFill.style.width = "0%";
  }
  closeBtn.onclick = closeSticky;
}

// Helper to mark steps done
function markDone(timerTextEl, currentStepEl, nextStepEl, currentStatusEl, nextStatusEl){
  if(timerTextEl){ timerTextEl.textContent = " âœ” Done"; }
  if(currentStepEl){ currentStepEl.classList.add("done"); if(currentStatusEl) currentStatusEl.textContent = "Completed"; }
  if(nextStepEl){ nextStepEl.classList.add("active"); if(nextStatusEl) nextStatusEl.textContent = "Ready"; }
  engageMsg.textContent = "Next step is ready. Continue to unlock.";
}

// Button flows
btn1.addEventListener("click", ()=>{
  btn1.disabled = true;
  s1.classList.add("active");
  s1Status.textContent = "In progress";
  s2.classList.add("active");
  engageMsg.textContent = "Please wait, unlocking next stepâ€¦";

  openStickyRedirect(link1, ()=>{
    markDone(null, s1, s2, s1Status, s2Status);
    btn2.disabled = false;
  });
});

btn2.addEventListener("click", ()=>{
  btn2.disabled = true;
  s2Status.textContent = "In progress";
  s3.classList.add("active");
  engageMsg.textContent = "Please wait, unlocking next stepâ€¦";

  openStickyRedirect(link2, ()=>{
    markDone(null, s2, s3, s2Status, s3Status);
    btn3.disabled = false;
  });
});

btn3.addEventListener("click", ()=>{
  btn3.disabled = true;
  s3Status.textContent = "In progress";
  engageMsg.textContent = "Preparing final linkâ€¦";

  openStickyRedirect(link3, ()=>{
    markDone(null, s3, sFinal, s3Status, sFinalStatus);
    sFinalStatus.textContent = "Available";
    finalLink.href = finalLinkHref;
    finalLink.classList.add("reveal");
    engageMsg.textContent = "Congratulations! Final link unlocked.";
  });
});

// Slideshow (optional ads)
const slides = document.getElementsByClassName("slide");
const dotsWrap = document.getElementById("dots");
let slideIndex = 0;
function buildDots(){
  dotsWrap.innerHTML = "";
  for(let i=0;i<slides.length;i++){
    const d = document.createElement("div");
    d.className = "dot-ind" + (i===0?" active":"");
    d.dataset.index = i;
    d.addEventListener("click", ()=> showSlide(i));
    dotsWrap.appendChild(d);
  }
}
function showSlide(i){
  for(let j=0;j<slides.length;j++){
    slides[j].style.display = "none";
    dotsWrap.children[j].classList.remove("active");
  }
  slides[i].style.display = "block";
  dotsWrap.children[i].classList.add("active");
  slideIndex = i;
}
function autoSlide(){
  slideIndex = (slideIndex + 1) % slides.length;
  showSlide(slideIndex);
}
buildDots();
showSlide(0);
setInterval(autoSlide, 3000);
</script>
</body>
</html>
